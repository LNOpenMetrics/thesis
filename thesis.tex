\documentclass[12pt]{report}

\usepackage[english]{babel}
\usepackage[top=1in, bottom=1in, left=1.4in, right=1in]{geometry}
\usepackage{url}
\urlstyle{same}
\pagestyle{plain}
\linespread{1.3}
\usepackage{fancyhdr}
\usepackage{afterpage}
\usepackage[utf8]{inputenc}
\usepackage{libertine}
\usepackage{graphicx}
\usepackage{floatflt}
\usepackage{blindtext}
\usepackage{enumitem}
\usepackage{amsthm}
\usepackage{listings}
\usepackage{listingsutf8}
\usepackage{amsmath}
\usepackage{framed}
\usepackage{minibox}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{longtable}
\usepackage[strict]{changepage}
\usepackage{pgfplots}
\usepackage{tikz}
\usetikzlibrary{matrix}
\pgfplotsset{width=11cm,compat=1.9}
\usepgfplotslibrary{external}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage[T1]{fontenc}
\usepackage{lipsum}  
\usepackage{longtable}
\usepackage{tabularx}
\usepackage{ltablex}
\usepackage[
    left = \flqq{},% 
    right = \frqq{},% 
    leftsub = \flq{},% 
    rightsub = \frq{} %
]{dirtytalk}
\usepackage[longnamesfirst, authoryear]{natbib}
\usepackage{subcaption}
\usepackage[breakable]{tcolorbox}
\usepackage{listings}

\definecolor{cosmogreen}{RGB}{61, 176, 23}
\definecolor{cosmoorange}{RGB}{255, 117, 24}
\definecolor{cosmoblue}{RGB}{25, 103, 190}
\definecolor{cosmored}{RGB}{255, 0, 57}
\definecolor{cosmoblack}{RGB}{55, 58, 60}
\definecolor{cosmogray}{RGB}{173, 181, 189}

% definizione BITCOIN script
\lstdefinelanguage{bitcoinscript}{
    alsodigit = {-},
    keywords = {OP_DUP,OP_HASH160,OP_EQUALVERIFY,OP_CHECKSIG, OP_CHECKMULTISIG,
                OP_0, OP_2, OP_3, OP_EQUAL, OP_RETURN, OP_IF, OP_CHECKLOCKTIMEVERIFY,
                OP_DROP, OP_CHECKSIGVERIFY, OP_ELSE, OP_ENDIF, OP_CHECKMULTISIG, OP_ELSE,
                OP_ENDIF, OP_SWAP, OP_ADD, OP_VERIFY, OP_PUSHDATA1},
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=left,
    numberstyle=\tiny\color{cosmoblack},
    keywordstyle=\color{cosmoblue},
    commentstyle=\color{cosmoogray},
    stringstyle=\color{cosmogreen},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3
}

% define the graphql language
\lstdefinelanguage{graphql}{
    alsodigit = {-},
    keywords = {mutation, query},
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=left,
    numberstyle=\tiny\color{cosmoblack},
    keywordstyle=\color{cosmoblue},
    commentstyle=\color{cosmoogray},
    stringstyle=\color{cosmogreen},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3
}

\lstset{language=go,
  basicstyle=\ttfamily\scriptsize,
  keywordstyle=\color{cosmoblue}\ttfamily,
  stringstyle=\color{cosmogreen}\ttfamily,
  commentstyle=\color{cosmogreen}\ttfamily,
  numbers=left,
}

\lstset{language=python,
  basicstyle=\ttfamily\scriptsize,
  keywordstyle=\color{cosmoblue}\ttfamily,
  stringstyle=\color{cosmogreen}\ttfamily,
  commentstyle=\color{cosmogreen}\ttfamily,
  numbers=left,
}

\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox{cosmoblack}{\parbox{\textwidth}{#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}

\hypersetup{
    colorlinks,
    citecolor=cosmoblue,
    filecolor=cosmogreen,
    linkcolor=cosmoblue,
    urlcolor=cosmoblue
}

% Add a quotes
% \begin{chapquote}[30pt]{author}
%    your quote
% \end{chapquote}
\newenvironment{chapquote}[2][2em]
  {\setlength{\@tempdima}{#1}%
   \def\chapquote@author{#2}%
   \parshape 1 \@tempdima \dimexpr\textwidth-2\@tempdima\relax%
   \itshape}
  {\par\normalfont\hfill--\ \chapquote@author\hspace*{\@tempdima}\par\bigskip}
\makeatother

\newcommand{\forceindent}{\leavevmode{\parindent=1em\indent}}
\newcommand{\ou}{%
  \mathrel{%
    \vcenter{\offinterlineskip
      \ialign{##\cr$<$\cr\noalign{\kern-1.5pt}$>$\cr}%
    }%
  }%
}

\newcommand{\quotes}[1]{``#1''}

\newcounter{examplecounter}
\newenvironment{example}{
    \begin{tcolorbox}[breakable]%
    \refstepcounter{examplecounter}%
    \textbf{Example \arabic{examplecounter}}%
}{%
\end{tcolorbox}%
}

\tikzexternalize
\newtheorem{definition}{Definition}

\begin{document}

\include{format/title_page}
\include{sections/abstract}

\tableofcontents

\include{sections/cap_2}
\include{sections/cap_1}
\include{sections/cap_3}
\include{sections/cap_4}
\include{sections/cap_5}
\include{sections/cap_7}

\listoffigures

\appendix

\setcitestyle{square}
\bibliographystyle{abbrv}
\bibliography{bibliography.bib}

\end{document}
